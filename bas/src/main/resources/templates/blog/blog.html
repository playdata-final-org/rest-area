<!DOCTYPE html>
<th:block th:replace="layout/main-layout :: layout(default,none)" xmlns="http://www.w3.org/1999/html">

    <th:block th:fragment="add_header">
        <title>test</title>
    </th:block>

    <div th:fragment="content" class="cs-main-content-bg cs-content col container-flude">
        <section class="blogMain">
            <div class="blogMainTitle">
                <img id="blogMainPreview" alt="Cover Image Preview" th:src="${titleImageUrl}" src="">
                <label for="coverImageInput" class="coverChange">
                    <i class="fa fa-picture-o" aria-hidden="true"></i>커버 이미지 설정
                </label>
                <input type="file" id="coverImageInput" style="display: none;" accept="image/*">
            </div>
        </section>
        <div class="blogBody">
            <section class="blogWriteButtonContainer">
                <div class="blogWriteButton">
                    <a th:href="@{/blogWrite}" class="blogWrite">
                        <i class="fa fa-picture-o" aria-hidden="true"></i>
                    </a>
                </div>
            </section>
            <section class="blogInfo text-center" style="font-size: 18px;">
                <div class="upload-img mx-auto"
                     style="margin-bottom: -50px; width: 150px; height: 150px; border-radius: 10px; overflow: hidden; z-index: 250; position: relative; top: -80px; background: #fff;">
                    <img id="imagePreview" alt="Profile Image"
                         th:src="${profileImageUrl}"
                         style="object-fit: cover; border-radius: 3px; width: 100%; height: 100%;">
                </div>
                <div style="display: flex; flex-direction: column;" >
                    <span id="blogCategory" th:text="${blogCategory}"></span>
                    <button id="categoryModalBtn" class="categoryModalBtn" data-toggle="modal" data-target="#categoryModal">카테고리 선택</button>
                </div>

                <section class="categoryModalContainer">
                    <div id="categoryModal" class="categoryModalBox">
                        <div class="modalContent">
                            <h2>카테고리 선택</h2>
                            <ul id="categoryList">
                                <li th:each="category : ${categories}">
                                    <button class="categoryItem" th:text="${category}"></button>
                                </li>
                            </ul>
                            <span class="modalClose" onclick="closeCategoryModal()">&times;</span>
                        </div>
                    </div>
                </section>

                <span class="username" th:text="${booster.nickName}">username</span></br>
                <span class="email" th:text="${booster.username}">email</span></br>
                <span class="member-count">회원수:</span><span class="member-count" th:text="${boostersCount}"></span><span
                    class="post-count">게시글 수</span><span class="post-count" th:text="${collectionCount}"></span>
            </section>
            <section class="collectionWriteButtonContainer">
                <div class="collectionWriteButton">
                    <a href="#" class="collectionWrite" onclick="openWriteOptionsModal()">
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>작성하기
                    </a>
                </div>
            </section>
            <section class="blogModal">
                <div id="writeOptionsModal" class="modal">
                    <div class="modal-content">
                        <p>콘텐츠 유형을 선택하세요</p>
                        <a th:href="@{/blogWrite/{blogId}(blogId=${blog.blogId})}">
                            <i class="fa fa-pencil-square fa-2x" aria-hidden="true"></i>
                            컬렉션 작성
                        </a>
                        <a th:href="@{/blogMembershipWrite/{blogId}(blogId=${blog.blogId})}">
                            <i class="fa fa-credit-card fa-2x" aria-hidden="true"></i>
                            멤버십 작성
                        </a>
                        <a th:href="@{/aboutWrite/{blogId}(blogId=${blog.blogId})}">
                            <i class="fa fa-hand-o-up fa-2x" aria-hidden="true"></i>
                            소개 작성
                        </a>
                        <span class="close" onclick="closeWriteOptionsModal()">&times;</span>
                    </div>
                </div>
            </section>
        </div>
        <section class="blogCategory" style="font-size: 20px; margin-top: 30px;">
            <nav class="bc" style="display: flex; align-content: center;align-items: center;flex-direction: column;">
                <ul style="list-style-type: none; padding: 0; margin: 0; display: flex;">
                    <li style="margin-right: 15px;"><button id="blogHome" onclick="handleButtonClick('blogHome', loadBlogHomeContent)">홈</button></li>
                    <li style="margin-right: 15px;"><button id="blogCollection" onclick="handleButtonClick('blogCollection', loadBlogCollectionContent)">컬렉션</button></li>
                    <li style="margin-right: 15px;"><button id="blogMembership" onclick="handleButtonClick('blogMembership', loadMembershipContent)">멤버십</button></li>
                    <li><button id="blogAbout" onclick="handleButtonClick('blogAbout', loadBlogAboutContent)">소개</button></li>
                </ul>
            </nav>
        </section>
        <section>
            <div class="highlightLine"></div>
            <div id="buttonHighlight"></div>
        </section>
        <div class="blogContent" id="blogContentContainer" style="margin-top: 20px;">
            <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        </div>
    </div>
    <th:block th:fragment="add_bottom">
        <script th:inline="javascript">
            var blogId = /*[[${blog.blogId}]]*/
            var categories = /*[[${categories}]]*/
        </script>
        <script src="/js/home.js" type="text/javascript"></script>
        <script src="/js/highlight.js" type="text/javascript"></script>
        <script src="/js/blogWriteModal.js" type="text/javascript"></script>
        <script src="/js/blogCategoryModal.js" type="text/javascript"></script>
        <script src="/js/blogTitleUpload.js" type="text/javascript"></script>
        <script src="/js/blogTitleImagePreview.js" type="text/javascript"></script>
    </th:block>

</th:block>